<div class="text-center p-2" style="background-color: rgb(83, 203, 163)">
  <h3><i class="fa-solid fa-people-group"></i> Customers</h3>
</div>

<div class="row my-3">
  <div class="col-3">
    <button><i class="fa-solid fa-magnifying-glass"></i></button>
    <input
      type="text"
      class="w-75"
      placeholder="First Name"
      [(ngModel)]="custFirstname"
    />
  </div>
  <div class="col-3">
    <button><i class="fa-solid fa-magnifying-glass"></i></button>
    <input
      type="text"
      class="w-75"
      placeholder="Last Name"
      [(ngModel)]="custLastname"
    />
  </div>
  <div class="col-3">
    <button><i class="fa-solid fa-magnifying-glass"></i></button>
    <input
      type="text"
      class="w-75"
      placeholder="Phone"
      [(ngModel)]="custPhone"
    />
  </div>
  <div class="col-3">
    <button class="btn btn-success" (click)="addCustomer()">
      <i class="fa-solid fa-circle-plus"></i> Add Customer
    </button>
  </div>
</div>

<div
  *ngIf="
    customers
      | filter: 'firstname':custFirstname
      | filter: 'lastname':custLastname
      | filter: 'phone':custPhone as customers
  "
>
  <ng-container *ngIf="customers.length != 0;else noCustomer">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>First name</th>
          <th>Last Name</th>
          <th>Phone</th>
          <th>Email</th>
          <th>View</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tfoot>
        <tr *ngFor="let customer of customers; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ customer.firstname }}</td>
          <td>{{ customer.lastname }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{ customer.email }}</td>
          <td>
            <i
              class="fa-solid fa-circle-info"
              (click)="getCustomer(customer)"
            ></i>
          </td>
          <td>
            <i
              class="fa-solid fa-pen-to-square text-success"
              (click)="updateCustomer(customer)"
            ></i>
          </td>
          <td>
            <i
              class="fa-solid fa-trash text-danger"
              (click)="deleteCustomer(customer)"
            ></i>
          </td>
        </tr>
      </tfoot>
    </table>
  </ng-container>
  <ng-template #noCustomer> No customer found </ng-template>
</div>
